<!DOCTYPE html>
<html lang="zh-TW">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Landing Page ç”Ÿæˆå™¨ï½œè¨±è—æ–¹</title>
<link rel="preconnect" href="https://fonts.googleapis.com">
<link href="https://fonts.googleapis.com/css2?family=Noto+Serif+TC:wght@300;400;500&family=Cormorant+Garamond:ital,wght@0,300;0,400;1,300;1,400&display=swap" rel="stylesheet">
<style>
:root {
  --bg: #FBF7F2;
  --bg2: #F4EDE0;
  --ink: #2A1A0A;
  --ink-mid: #5C3D1E;
  --terracotta: #B85C38;
  --gold: #B8873A;
  --muted: #9C7A55;
  --faint: #C4A882;
  --border: #E2D4C0;
  --green: #5A8A6A;
}
*, *::before, *::after { margin: 0; padding: 0; box-sizing: border-box; }
body { background: var(--bg); color: var(--ink); font-family: 'Noto Serif TC', serif; font-weight: 300; min-height: 100vh; }
.wrap { max-width: 760px; margin: 0 auto; padding: 0 24px 80px; }

header { padding: 40px 0 32px; border-bottom: 1px solid var(--border); margin-bottom: 40px; }
.header-inner { display: flex; align-items: baseline; justify-content: space-between; flex-wrap: wrap; gap: 8px; }
.logo { font-family: 'Cormorant Garamond', serif; font-style: italic; font-size: 18px; color: var(--muted); }
.header-tag { font-size: 11px; letter-spacing: 0.15em; text-transform: uppercase; color: var(--faint); }

h1 { font-family: 'Cormorant Garamond', serif; font-weight: 400; font-size: clamp(28px, 5vw, 40px); color: var(--ink); margin-bottom: 8px; line-height: 1.3; }
h1 em { font-style: italic; color: var(--terracotta); }
.page-sub { font-size: 14px; color: var(--muted); line-height: 1.8; margin-bottom: 36px; }

/* Input section */
.input-section { margin-bottom: 32px; }
.section-label { font-size: 11px; letter-spacing: 0.18em; text-transform: uppercase; color: var(--gold); margin-bottom: 12px; display: block; }

.article-input {
  width: 100%; min-height: 200px; padding: 16px 18px;
  border: 1.5px solid var(--border); background: white;
  font-family: 'Noto Serif TC', serif; font-size: 14px; color: var(--ink);
  line-height: 1.8; resize: vertical; outline: none; transition: border-color 0.2s;
}
.article-input:focus { border-color: var(--terracotta); }
.article-input::placeholder { color: var(--faint); }

.options-row { display: flex; gap: 12px; margin-top: 12px; flex-wrap: wrap; }
.opt-field { flex: 1; min-width: 180px; }
.opt-field label { display: block; font-size: 12px; color: var(--muted); margin-bottom: 6px; letter-spacing: 0.05em; }
.opt-field input {
  width: 100%; padding: 11px 14px; border: 1.5px solid var(--border);
  background: var(--bg); font-family: 'Noto Serif TC', serif; font-size: 14px;
  color: var(--ink); outline: none; transition: border-color 0.2s;
}
.opt-field input:focus { border-color: var(--terracotta); }
.opt-field input::placeholder { color: var(--faint); }

.generate-btn {
  width: 100%; margin-top: 20px; padding: 17px;
  background: var(--ink); color: white; border: none;
  font-family: 'Noto Serif TC', serif; font-size: 15px; letter-spacing: 0.06em;
  cursor: pointer; transition: background 0.3s; position: relative;
}
.generate-btn:hover:not(:disabled) { background: var(--terracotta); }
.generate-btn:disabled { opacity: 0.6; cursor: not-allowed; }

.loading-dots { display: inline-block; }
.loading-dots::after {
  content: '';
  animation: dots 1.2s infinite;
}
@keyframes dots {
  0%   { content: ''; }
  25%  { content: 'ï¼'; }
  50%  { content: 'ï¼ï¼'; }
  75%  { content: 'ï¼ï¼ï¼'; }
}

/* Results */
.results { display: none; }
.results.visible { display: block; animation: fadeUp 0.5s ease; }

.result-card {
  background: white; border: 1px solid var(--border);
  margin-bottom: 20px; position: relative;
  box-shadow: 0 1px 12px rgba(90,50,20,0.05);
}
.result-card::before {
  content: ''; position: absolute; top: 0; left: 0; right: 0;
  height: 2px; background: linear-gradient(90deg, var(--terracotta), var(--gold));
}
.card-header {
  display: flex; align-items: center; justify-content: space-between;
  padding: 16px 20px 12px; border-bottom: 1px solid var(--border);
}
.card-title { font-size: 11px; letter-spacing: 0.18em; text-transform: uppercase; color: var(--gold); }
.copy-btn {
  font-size: 11px; letter-spacing: 0.1em; color: var(--muted);
  background: none; border: 1px solid var(--border); padding: 5px 12px;
  cursor: pointer; font-family: 'Noto Serif TC', serif; transition: all 0.2s;
}
.copy-btn:hover { border-color: var(--terracotta); color: var(--terracotta); }
.copy-btn.copied { border-color: var(--green); color: var(--green); }

.card-body { padding: 20px; }
.output-text {
  font-size: 14px; line-height: 1.9; color: var(--ink-mid);
  white-space: pre-wrap; word-break: break-word;
}

/* Field rows in result */
.field-row { margin-bottom: 16px; padding-bottom: 16px; border-bottom: 1px solid var(--border); }
.field-row:last-child { margin-bottom: 0; padding-bottom: 0; border-bottom: none; }
.field-key { font-size: 11px; letter-spacing: 0.12em; color: var(--faint); margin-bottom: 6px; text-transform: uppercase; }
.field-val { font-size: 15px; color: var(--ink); line-height: 1.7; font-family: 'Cormorant Garamond', serif; font-size: 17px; }

/* Generate HTML button */
.generate-html-btn {
  width: 100%; padding: 15px; margin-top: 8px;
  background: var(--bg2); color: var(--ink); border: 1.5px solid var(--border);
  font-family: 'Noto Serif TC', serif; font-size: 14px; letter-spacing: 0.06em;
  cursor: pointer; transition: all 0.3s;
}
.generate-html-btn:hover { background: var(--terracotta); color: white; border-color: var(--terracotta); }

@keyframes fadeUp { from { opacity: 0; transform: translateY(12px); } to { opacity: 1; transform: translateY(0); } }

@media (max-width: 480px) { .options-row { flex-direction: column; } }
</style>
</head>
<body>
<div class="wrap">

  <header>
    <div class="header-inner">
      <div class="logo">è¨±è—æ–¹ãƒ»å…§å®¹å·¥å…·ç®±</div>
      <div class="header-tag">Landing Page ç”Ÿæˆå™¨</div>
    </div>
  </header>

  <h1>è²¼æ–‡ç« ï¼Œ<em>è‡ªå‹•ç”Ÿæˆ</em><br>Landing Page æ–‡æ¡ˆ</h1>
  <p class="page-sub">æŠŠä½ çš„æ–‡ç« è²¼é€²ä¾†ï¼ŒAI æœƒå¹«ä½ åˆ†æå‡ºï¼šé é¢æ¨™é¡Œã€é‡‘å¥ã€è³£é»ã€æŒ‰éˆ•æ–‡å­—ï¼Œé‚„æœ‰æ–‡ç« çµå°¾çš„å¼•æµ CTAã€‚</p>

  <div class="input-section">
    <span class="section-label">è²¼å…¥ä½ çš„æ–‡ç« </span>
    <textarea class="article-input" id="article-input" placeholder="æŠŠä½ çš„æ–‡ç« å…¨æ–‡è²¼åœ¨é€™è£¡â‹¯â‹¯"></textarea>

    <div class="options-row">
      <div class="opt-field">
        <label>å¼•æµå“åç¨±ï¼ˆä¾‹å¦‚ï¼šé—œä¿‚æª¢æ ¸è¡¨ï¼‰</label>
        <input type="text" id="lead-magnet" placeholder="ä¾‹å¦‚ï¼šé—œä¿‚æª¢æ ¸è¡¨ã€éˆæ°£å†¥æƒ³éŸ³é »">
      </div>
      <div class="opt-field">
        <label>Kit è¡¨å–® ID</label>
        <input type="text" id="kit-id" placeholder="ä¾‹å¦‚ï¼š9141183" value="9141183">
      </div>
    </div>
    <div class="options-row" style="margin-top:0">
      <div class="opt-field" style="flex:2">
        <label>Anthropic API Keyï¼ˆåªå­˜åœ¨ä½ çš„ç€è¦½å™¨ï¼Œä¸æœƒå¤–å‚³ï¼‰</label>
        <input type="password" id="api-key" placeholder="sk-ant-...">
      </div>
    </div>

    <button class="generate-btn" id="generate-btn" onclick="generate()">
      é–‹å§‹åˆ†æä¸¦ç”Ÿæˆæ–‡æ¡ˆ
    </button>
  </div>

  <div class="results" id="results">

    <!-- Landing Page æ–‡æ¡ˆ -->
    <div class="result-card" id="card-landing">
      <div class="card-header">
        <div class="card-title">Landing Page æ–‡æ¡ˆ</div>
        <button class="copy-btn" onclick="copyCard('landing-content', this)">è¤‡è£½</button>
      </div>
      <div class="card-body" id="landing-content"></div>
    </div>

    <!-- æ–‡ç« çµå°¾ CTA -->
    <div class="result-card" id="card-cta">
      <div class="card-header">
        <div class="card-title">æ–‡ç« çµå°¾å¼•æµ CTA</div>
        <button class="copy-btn" onclick="copyCard('cta-content', this)">è¤‡è£½</button>
      </div>
      <div class="card-body">
        <div class="output-text" id="cta-content"></div>
      </div>
    </div>

    <!-- æ­¡è¿ä¿¡ -->
    <div class="result-card" id="card-email">
      <div class="card-header">
        <div class="card-title">Kit æ­¡è¿ä¿¡æ–‡æ¡ˆ</div>
        <button class="copy-btn" onclick="copyEmail(this)">è¤‡è£½</button>
      </div>
      <div class="card-body">
        <div class="field-row">
          <div class="field-key">ä¸»æ—¨</div>
          <div class="field-val" id="email-subject"></div>
        </div>
        <div class="field-row" style="border-bottom:none;padding-bottom:0">
          <div class="field-key">æ­£æ–‡</div>
          <div class="output-text" id="email-body" style="font-family:Noto Serif TC,serif;font-size:14px"></div>
        </div>
      </div>
    </div>

    <!-- ç”Ÿæˆå®Œæ•´ HTML -->
    <button class="generate-html-btn" id="html-btn" onclick="generateHTML()" style="display:none">
      â†’ ç”¨é€™äº›å…§å®¹ç”Ÿæˆå®Œæ•´çš„ Landing Page HTML
    </button>

  </div>

</div>

<script>
let generatedData = null;

async function generate() {
  const article = document.getElementById('article-input').value.trim();
  const leadMagnet = document.getElementById('lead-magnet').value.trim() || 'å…è²»è³‡æº';
  const kitId = document.getElementById('kit-id').value.trim() || 'YOUR_KIT_ID';

  if (!article) {
    alert('è«‹å…ˆè²¼å…¥æ–‡ç« å…§å®¹');
    return;
  }

  const btn = document.getElementById('generate-btn');
  btn.innerHTML = '<span class="loading-dots">AI åˆ†æä¸­</span>';
  btn.disabled = true;

  const prompt = `ä½ æ˜¯ä¸€å€‹å°ˆé–€å¹«åŠ©ç™‚ç™’å¸«ã€è«®å•†å¸«è¨­è¨ˆå…§å®¹è¡ŒéŠ·çš„å°ˆå®¶ã€‚

è«‹åˆ†æä»¥ä¸‹æ–‡ç« ï¼Œå¹«æˆ‘ç”Ÿæˆä¸€å€‹ã€Œ${leadMagnet}ã€çš„ Landing Page æ‰€éœ€çš„æ‰€æœ‰æ–‡æ¡ˆï¼Œä»¥åŠæ–‡ç« çµå°¾çš„å¼•æµ CTAã€‚

æ–‡ç« å…§å®¹ï¼š
${article}

è«‹ç”¨ç¹é«”ä¸­æ–‡ï¼Œä»¥ JSON æ ¼å¼å›æ‡‰ï¼Œçµæ§‹å¦‚ä¸‹ï¼ˆåªå› JSONï¼Œä¸è¦æœ‰å…¶ä»–æ–‡å­—ï¼‰ï¼š
{
  "page_title": "SEO æ¨™é¡Œï¼Œ60å­—å…§",
  "og_description": "ç¤¾ç¾¤é è¦½æè¿°ï¼Œ80å­—å…§",
  "hero_title_line1": "ä¸»æ¨™é¡Œç¬¬ä¸€è¡Œï¼Œæœ‰åŠ›æœ‰æ„Ÿè¦ºï¼Œ8å­—å…§",
  "hero_title_line2": "ä¸»æ¨™é¡Œç¬¬äºŒè¡Œï¼Œæ–œé«”é—œéµè©ï¼Œ6å­—å…§",
  "hero_sub": "å‰¯æ¨™é¡Œï¼Œä¸€å¥è©±ï¼Œ20å­—å…§",
  "pull_quote": "å¾æ–‡ç« è£¡èƒå–å‡ºæœ€æ‰“å‹•äººå¿ƒçš„ä¸€å¥è©±ï¼Œç›´æ¥å¼•ç”¨åŸæ–‡",
  "pull_cite": "é€™å¥è©±å‡ºè‡ªå“ªè£¡çš„èªªæ˜ï¼Œä¾‹å¦‚ã€Œå¤§äººç‰ˆé—œä¿‚æª¢æ ¸è¡¨ã€",
  "gets": [
    {"icon": "emoji", "name": "é …ç›®åç¨±", "desc": "ä¸€å¥èªªæ˜ï¼Œ25å­—å…§"},
    {"icon": "emoji", "name": "é …ç›®åç¨±", "desc": "ä¸€å¥èªªæ˜ï¼Œ25å­—å…§"},
    {"icon": "emoji", "name": "é …ç›®åç¨±", "desc": "ä¸€å¥èªªæ˜ï¼Œ25å­—å…§"}
  ],
  "form_title": "è¡¨å–®æ¨™é¡Œï¼Œã€Œå…è²»é ˜å–â‹¯â‹¯ã€ï¼Œ15å­—å…§",
  "form_note": "è¡¨å–®èªªæ˜ï¼Œä¸€å¥è©±",
  "button_text": "æŒ‰éˆ•æ–‡å­—ï¼Œæœ‰æº«åº¦ã€æœ‰è¡Œå‹•æ„Ÿï¼Œ10å­—å…§ï¼Œçµå°¾åŠ  â†’",
  "success_title_line1": "æˆåŠŸé é¢æ¨™é¡Œç¬¬ä¸€éƒ¨åˆ†",
  "success_title_em": "æ–œé«”å¼·èª¿è©",
  "success_body": "æˆåŠŸå¾Œçš„ä¸€æ®µè©±ï¼Œæº«æš–ã€ç°¡çŸ­ï¼Œä¸‰è¡Œå…§",
  "article_cta": "æ”¾åœ¨æ–‡ç« çµå°¾çš„å¼•æµæ®µè½ï¼Œ2-4å¥ï¼Œå‘¼æ‡‰æ–‡ç« å…§å®¹ï¼Œè‡ªç„¶å¸¶å‡ºå¼•æµå“ï¼Œæœ€å¾Œè«‹è®€è€…ç•™è¨€æˆ–ç§è¨Šï¼Œä¸è¦å¤ªéŠ·å”®æ„Ÿï¼Œè¦åƒä¸€å€‹çœŸå¯¦çš„äººåœ¨èªªè©±",
  "email_subject": "æ­¡è¿ä¿¡ä¸»æ—¨ï¼Œæœ‰æº«åº¦ï¼Œçµå°¾åŠ ä¸Šå°æ–¹åå­—ï¼š{{ subscriber.first_name }}",
  "email_body": "æ­¡è¿ä¿¡æ­£æ–‡ï¼Œä»¥ {{ subscriber.first_name }}ï¼Œä½ å¥½é–‹é ­ï¼Œ2-3å¥æš–å ´å‘¼æ‡‰æ–‡ç« ï¼Œèªªæ˜é€™ä»½æª¢æ ¸è¡¨æ€éº¼ç”¨ï¼ˆä¸éœ€è¦ä¸€æ¬¡å…¨éƒ¨ï¼Œå“ªé¡Œåœä¸‹ä¾†å°±åœé‚£è£¡ï¼‰ï¼Œçµå°¾é‚€è«‹å°æ–¹å›ä¿¡èªªèªªåœåœ¨å“ªä¸€é¡Œï¼Œç½²åè—æ–¹ï¼Œèªæ°£æº«æš–çœŸå¯¦åƒæœ‹å‹èªªè©±"
}`;

  try {
    const apiKey = document.getElementById('api-key').value.trim();
    if (!apiKey) { alert('è«‹å¡«å…¥ Anthropic API Key'); btn.innerHTML = 'é‡æ–°ç”Ÿæˆ'; btn.disabled = false; return; }

    const response = await fetch('https://api.anthropic.com/v1/messages', {
      method: 'POST',
      headers: { 'Content-Type': 'application/json', 'x-api-key': apiKey, 'anthropic-version': '2023-06-01', 'anthropic-dangerous-direct-browser-access': 'true' },
      body: JSON.stringify({
        model: 'claude-sonnet-4-20250514',
        max_tokens: 1000,
        messages: [{ role: 'user', content: prompt }]
      })
    });

    const data = await response.json();
    const text = data.content[0].text;
    const clean = text.replace(/```json|```/g, '').trim();
    const result = JSON.parse(clean);

    generatedData = { ...result, kitId, leadMagnet };
    renderResults(result, kitId);

  } catch(err) {
    alert('ç”Ÿæˆå¤±æ•—ï¼Œè«‹ç¨å¾Œå†è©¦');
    console.error(err);
  }

  btn.innerHTML = 'é‡æ–°ç”Ÿæˆ';
  btn.disabled = false;
}

function renderResults(r, kitId) {
  // Landing page fields
  const landingHTML = `
    <div class="field-row">
      <div class="field-key">é é¢æ¨™é¡Œ</div>
      <div class="field-val">${r.page_title}</div>
    </div>
    <div class="field-row">
      <div class="field-key">ç¤¾ç¾¤é è¦½æè¿°ï¼ˆOGï¼‰</div>
      <div class="field-val">${r.og_description}</div>
    </div>
    <div class="field-row">
      <div class="field-key">ä¸»æ¨™é¡Œ</div>
      <div class="field-val">${r.hero_title_line1}<br><em>${r.hero_title_line2}</em></div>
    </div>
    <div class="field-row">
      <div class="field-key">å‰¯æ¨™é¡Œ</div>
      <div class="field-val">${r.hero_sub}</div>
    </div>
    <div class="field-row">
      <div class="field-key">é‡‘å¥</div>
      <div class="field-val">ã€Œ${r.pull_quote}ã€<br><small style="font-size:12px;color:var(--faint)">â€”â€” ${r.pull_cite}</small></div>
    </div>
    <div class="field-row">
      <div class="field-key">ä½ æœƒæ”¶åˆ°ï¼ˆä¸‰é …ï¼‰</div>
      <div class="field-val">${r.gets.map((g,i) => `${g.icon} ${g.name}ï¼š${g.desc}`).join('<br>')}</div>
    </div>
    <div class="field-row">
      <div class="field-key">è¡¨å–®æ¨™é¡Œ</div>
      <div class="field-val">${r.form_title}</div>
    </div>
    <div class="field-row">
      <div class="field-key">æŒ‰éˆ•æ–‡å­—</div>
      <div class="field-val">${r.button_text}</div>
    </div>
    <div class="field-row">
      <div class="field-key">Kit è¡¨å–® ID</div>
      <div class="field-val">${kitId}</div>
    </div>
  `;

  document.getElementById('landing-content').innerHTML = landingHTML;
  document.getElementById('cta-content').textContent = r.article_cta;

  document.getElementById('results').classList.add('visible');
  // email
  document.getElementById('email-subject').textContent = r.email_subject || '';
  document.getElementById('email-body').textContent = r.email_body || '';
  document.getElementById('html-btn').style.display = 'block';

  document.getElementById('results').scrollIntoView({ behavior: 'smooth', block: 'start' });
}

async function generateHTML() {
  if (!generatedData) return;
  const r = generatedData;
  const kitId = r.kitId;

  const html = `<!DOCTYPE html>
<html lang="zh-TW">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>${r.page_title}</title>
<meta name="description" content="${r.og_description}">
<meta property="og:title" content="${r.page_title}">
<meta property="og:description" content="${r.og_description}">
<meta property="og:type" content="website">
<meta property="og:locale" content="zh_TW">
<link rel="preconnect" href="https://fonts.googleapis.com">
<link href="https://fonts.googleapis.com/css2?family=Noto+Serif+TC:wght@300;400;500&family=Cormorant+Garamond:ital,wght@0,300;0,400;0,500;1,300;1,400;1,500&display=swap" rel="stylesheet">
<style>
:root {
  --bg: #FBF7F2; --bg2: #F4EDE0; --ink: #2A1A0A; --ink-mid: #5C3D1E;
  --terracotta: #B85C38; --gold: #B8873A; --muted: #9C7A55; --faint: #C4A882; --border: #E2D4C0;
}
*, *::before, *::after { margin: 0; padding: 0; box-sizing: border-box; }
body { background: var(--bg); color: var(--ink); font-family: 'Noto Serif TC', serif; font-weight: 300; overflow-x: hidden; }
.wrap { max-width: 600px; margin: 0 auto; padding: 0 28px; }
header { padding: 40px 0 0; opacity: 0; animation: up 0.7s 0.1s ease forwards; }
.site-tag { font-family: 'Cormorant Garamond', serif; font-style: italic; font-size: 13px; letter-spacing: 0.12em; color: var(--muted); }
.hero { padding: 52px 0 44px; }
.hero-label { display: inline-flex; align-items: center; gap: 10px; font-size: 11px; letter-spacing: 0.2em; text-transform: uppercase; color: var(--terracotta); margin-bottom: 28px; opacity: 0; animation: up 0.7s 0.2s ease forwards; }
.hero-label::before { content: ''; display: block; width: 24px; height: 1px; background: var(--terracotta); }
h1 { font-family: 'Cormorant Garamond', serif; font-weight: 400; font-size: clamp(38px, 8vw, 60px); line-height: 1.2; color: var(--ink); margin-bottom: 10px; opacity: 0; animation: up 0.7s 0.3s ease forwards; }
h1 em { font-style: italic; color: var(--terracotta); }
.hero-sub { font-family: 'Cormorant Garamond', serif; font-style: italic; font-size: clamp(16px, 3vw, 20px); color: var(--muted); margin-bottom: 36px; line-height: 1.6; opacity: 0; animation: up 0.7s 0.4s ease forwards; }
.pull { border-left: 2px solid var(--terracotta); padding: 18px 22px; margin-bottom: 48px; background: var(--bg2); opacity: 0; animation: up 0.7s 0.5s ease forwards; }
.pull p { font-family: 'Cormorant Garamond', serif; font-style: italic; font-size: clamp(16px, 3vw, 20px); line-height: 1.8; color: var(--ink-mid); }
.pull cite { display: block; margin-top: 10px; font-size: 12px; letter-spacing: 0.1em; color: var(--faint); font-style: normal; }
.gets { margin-bottom: 48px; opacity: 0; animation: up 0.7s 0.55s ease forwards; }
.gets-title { font-size: 11px; letter-spacing: 0.2em; text-transform: uppercase; color: var(--gold); margin-bottom: 20px; }
.get-item { display: flex; gap: 18px; padding: 18px 0; border-bottom: 1px solid var(--border); }
.get-item:first-of-type { border-top: 1px solid var(--border); }
.get-icon { font-size: 22px; flex-shrink: 0; padding-top: 2px; }
.get-name { font-size: 15px; color: var(--ink); margin-bottom: 4px; }
.get-desc { font-size: 13px; color: var(--muted); line-height: 1.8; }
.form-box { background: white; border: 1px solid var(--border); padding: 40px 36px; margin-bottom: 60px; opacity: 0; animation: up 0.7s 0.65s ease forwards; position: relative; overflow: hidden; box-shadow: 0 2px 20px rgba(90,50,20,0.06); }
.form-box::before { content: ''; position: absolute; top: 0; left: 0; right: 0; height: 3px; background: linear-gradient(90deg, var(--terracotta), var(--gold)); }
.form-title { font-family: 'Cormorant Garamond', serif; font-size: clamp(20px, 4vw, 26px); font-weight: 400; color: var(--ink); margin-bottom: 6px; line-height: 1.4; }
.form-note { font-size: 13px; color: var(--muted); margin-bottom: 28px; line-height: 1.85; }
.field { margin-bottom: 12px; }
.field label { display: block; font-size: 12px; letter-spacing: 0.08em; color: var(--muted); margin-bottom: 6px; }
.field input { display: block; width: 100%; padding: 13px 16px; border: 1.5px solid var(--border); background: var(--bg); font-family: 'Noto Serif TC', serif; font-size: 15px; color: var(--ink); outline: none; transition: border-color 0.2s; }
.field input:focus { border-color: var(--terracotta); }
.field input::placeholder { color: var(--faint); }
.submit-btn { display: block; width: 100%; margin-top: 16px; padding: 16px; background: var(--ink); color: white; border: none; font-family: 'Noto Serif TC', serif; font-size: 15px; letter-spacing: 0.06em; cursor: pointer; transition: background 0.3s; }
.submit-btn:hover { background: var(--terracotta); }
.privacy { margin-top: 14px; font-size: 11px; color: var(--faint); text-align: center; letter-spacing: 0.05em; }
.success { display: none; text-align: center; padding: 12px 0; }
.success-icon { font-size: 40px; margin-bottom: 20px; }
.success-title { font-family: 'Cormorant Garamond', serif; font-size: clamp(24px, 5vw, 34px); font-weight: 400; color: var(--ink); margin-bottom: 16px; line-height: 1.4; }
.success-title em { font-style: italic; color: var(--terracotta); }
.success-body { font-size: 14px; color: var(--ink-mid); line-height: 1.95; margin-bottom: 20px; }
.success-note { font-size: 12px; color: var(--faint); line-height: 1.8; padding: 14px 18px; border: 1px solid var(--border); }
footer { padding: 32px 0 52px; border-top: 1px solid var(--border); opacity: 0; animation: up 0.7s 0.75s ease forwards; }
.footer-inner { display: flex; justify-content: space-between; align-items: center; flex-wrap: wrap; gap: 12px; }
.footer-name { font-family: 'Cormorant Garamond', serif; font-style: italic; font-size: 15px; color: var(--muted); }
.footer-note { font-size: 11px; color: var(--faint); line-height: 1.8; text-align: right; }
@keyframes up { from { opacity: 0; transform: translateY(16px); } to { opacity: 1; transform: translateY(0); } }
@keyframes fadeIn { from { opacity: 0; } to { opacity: 1; } }
@media (max-width: 480px) { .form-box { padding: 28px 20px; } .footer-inner { flex-direction: column; align-items: flex-start; } .footer-note { text-align: left; } }
</style>
</head>
<body>
<div class="wrap">
  <header><div class="site-tag">è¨±è—æ–¹ãƒ»å¸Œå¡”ç™‚ç™’å°å¸«ãƒ»é—œä¿‚éˆæ°£ç™‚ç™’å¸«</div></header>
  <section class="hero">
    <div class="hero-label">å…è²»è³‡æº</div>
    <h1>${r.hero_title_line1}<br><em>${r.hero_title_line2}</em></h1>
    <p class="hero-sub">${r.hero_sub}</p>
    <div class="pull">
      <p>ã€Œ${r.pull_quote}ã€</p>
      <cite>â€”â€” ${r.pull_cite}</cite>
    </div>
    <div class="gets">
      <div class="gets-title">é ˜å–å¾Œä½ æœƒæ”¶åˆ°</div>
      ${r.gets.map(g => `<div class="get-item"><div class="get-icon">${g.icon}</div><div><div class="get-name">${g.name}</div><div class="get-desc">${g.desc}</div></div></div>`).join('\n      ')}
    </div>
  </section>
  <div class="form-box">
    <div id="form-area">
      <div class="form-title">${r.form_title}</div>
      <p class="form-note">${r.form_note}</p>
      <form id="kit-form" onsubmit="submitForm(event)">
        <div class="field"><label>ä½ çš„åå­—</label><input type="text" name="first_name" placeholder="è«‹è¼¸å…¥åå­—" required></div>
        <div class="field"><label>Email ä¿¡ç®±</label><input type="email" name="email_address" placeholder="è«‹è¼¸å…¥æœ‰æ•ˆçš„ Email" required></div>
        <button type="submit" class="submit-btn">${r.button_text}</button>
      </form>
      <p class="privacy">ğŸ”’ ä½ çš„è³‡è¨Šä¸æœƒè¢«åˆ†äº«çµ¦ä»»ä½•ç¬¬ä¸‰æ–¹</p>
    </div>
    <div class="success" id="success-area">
      <div class="success-icon">âœ‰ï¸</div>
      <div class="success-title">${r.success_title_line1}<em>${r.success_title_em}</em></div>
      <p class="success-body">${r.success_body}</p>
      <div class="success-note">æ‰¾ä¸åˆ°ä¿¡ï¼Ÿè¨˜å¾—æª¢æŸ¥åƒåœ¾éƒµä»¶è³‡æ–™å¤¾ï¼Œæˆ–æŠŠè—æ–¹çš„ email åŠ å…¥è¯çµ¡äººã€‚</div>
    </div>
  </div>
  <footer>
    <div class="footer-inner">
      <div class="footer-name">è¨±è—æ–¹</div>
      <div class="footer-note">å¡«å¯«å³åŒæ„æ¥æ”¶é›»å­å ±<br>ä½ çš„ email ä¸æœƒåˆ†äº«çµ¦ä»»ä½•ç¬¬ä¸‰æ–¹</div>
    </div>
  </footer>
</div>
<script>
async function submitForm(e) {
  e.preventDefault();
  const btn = e.target.querySelector('button');
  btn.textContent = 'æº–å‚™ä¸­â‹¯';
  btn.disabled = true;
  try {
    await fetch('https://app.convertkit.com/forms/${kitId}/subscriptions', {
      method: 'POST', body: new FormData(e.target), mode: 'no-cors'
    });
  } catch(err) {}
  document.getElementById('form-area').style.display = 'none';
  const s = document.getElementById('success-area');
  s.style.display = 'block';
  s.style.animation = 'fadeIn 0.5s ease forwards';
}
<\/script>
</body>
</html>`;

  const blob = new Blob([html], { type: 'text/html' });
  const url = URL.createObjectURL(blob);
  const a = document.createElement('a');
  a.href = url;
  a.download = 'index.html';
  a.click();
  URL.revokeObjectURL(url);
}

function copyEmail(btn) {
  const subject = document.getElementById('email-subject').textContent;
  const body = document.getElementById('email-body').textContent;
  const text = 'ä¸»æ—¨ï¼š' + subject + '

' + body;
  navigator.clipboard.writeText(text).then(() => {
    btn.textContent = 'å·²è¤‡è£½ âœ“';
    btn.classList.add('copied');
    setTimeout(() => { btn.textContent = 'è¤‡è£½'; btn.classList.remove('copied'); }, 2000);
  });
}

function copyCard(id, btn) {
  const el = document.getElementById(id);
  const text = el.innerText;
  navigator.clipboard.writeText(text).then(() => {
    btn.textContent = 'å·²è¤‡è£½ âœ“';
    btn.classList.add('copied');
    setTimeout(() => {
      btn.textContent = 'è¤‡è£½';
      btn.classList.remove('copied');
    }, 2000);
  });
}
</script>
</body>
</html>
